<div  class="vzb-templates-buttongroup-templates vzb-lui-tabset vzb-lui-tabset--fill">
    <div class="vzb-templates-general-presets vzb-lui-tab" [ngClass]="{\'vzb-lui-active\': isVisible(\'general\')}"
        (click)="showPresets(\'general\')">
        <p>Vizlib <span *ngIf="isVisible(\'general\') && numberOfPreset !== undefined">({{numberOfPreset}})</span></p>
    </div>
    <div class="vzb-templates-company-presets vzb-lui-tab" [ngClass]="{\'vzb-lui-active\': isVisible(\'company\'), \'disabled\': areTemplatesDisabled}"
        (click)="!areTemplatesDisabled && showPresets(\'company\')">
        <p title="{{ areTemplatesDisabled ? \'Company templates are currently disabled. Please, contact your administrator for more information.\' : \'\'}}">Published in {{companyName}} <span
                *ngIf="isVisible(\'company\') && numberOfPreset !== undefined">({{numberOfPreset}})</span></p>
    </div>
    <div class="vzb-templates-user-presets vzb-lui-tab"
        [ngClass]="{\'vzb-lui-active\': isVisible(\'user\'), \'disabled\': !isOnlineMode || areTemplatesDisabled}"
        (click)="(isOnlineMode && !areTemplatesDisabled) && showPresets(\'user\')">
        <p title="{{!isOnlineMode || areTemplatesDisabled ? \'Personal templates are currently disabled. Please, contact your administrator for more information.\': \'\'}}">My Templates <span
                *ngIf="isVisible(\'user\') && numberOfPreset !== undefined">({{numberOfPreset}})</span></p>
    </div>
</div>
<div class="vzb-spinner-container" *ngIf="useSpinner">
    <vzb-spinner></vzb-spinner>
</div>
<vzb-search [formControl]="searchControl"></vzb-search>

<div class="vzb-templates-templates-container" [ngClass]="{\'loading\': useSpinner}">
    <vzb-preset *ngFor="let preset of activePresets?.data | searchInObject: searchControl.value : \'title\'"
        [preset]="preset" [search]="searchControl.value" [localDefault]="localDefault"
        [allowsRemoving]="activePresetTab === PresetsType.user" [qsUser]="qsUser" [allowsTitleChange]="activePresetTab === PresetsType.user"
        [hasDescription]="activePresetTab !== PresetsType.general" (default-change)="onLocalDefaultChange($event)"
        (set-preset)="setPreset($event)" (remove-preset)="onRemovePreset()"></vzb-preset>
    <div *ngIf="activePresets && !activePresets?.data?.length && !searchControl.value" class="vzb-templates-no-templates">
        <div class="vzb-templates-no-templates-content">No templates</div>
    </div>
    <div *ngIf="activePresets && !numberOfPreset && searchControl.value" class="vzb-templates-no-templates">
        <div class="vzb-templates-no-templates-content">There are no matches for your search.</div>
    </div>
</div>

<div class="vzb-templates-tooltip right-vzb-templates-tooltip">
    <button (click)="navigateToHelp()" type="button" title="Click to see more information about templates" class="lui-fade-button">
        <a target="_blank">
            <span class="lui-icon lui-icon--info vzb-templates-templates-info" aria-hidden="true"></span>
        </a>
    </button>
</div>

<div class="vzb-templates-mailto-container" *ngIf="!areTemplatesDisabled && isOnlineMode">
    <a href="mailto:?subject=New Vizlib Template for the {{extensionNameToShow}} ready for publishing"
        target="_blank">
        <img style="width: 20px" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNTEyIDUxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiM1OTU5NTkiIGQ9Ik00NjcsNjFINDVDMjAuMjE4LDYxLDAsODEuMTk2LDAsMTA2djMwMGMwLDI0LjcyLDIwLjEyOCw0NSw0NSw0NWg0MjJjMjQuNzIsMCw0NS0yMC4xMjgsNDUtNDVWMTA2DQoJCQlDNTEyLDgxLjI4LDQ5MS44NzIsNjEsNDY3LDYxeiBNNDYwLjc4Niw5MUwyNTYuOTU0LDI5NC44MzNMNTEuMzU5LDkxSDQ2MC43ODZ6IE0zMCwzOTkuNzg4VjExMi4wNjlsMTQ0LjQ3OSwxNDMuMjRMMzAsMzk5Ljc4OHoNCgkJCSBNNTEuMjEzLDQyMWwxNDQuNTctMTQ0LjU3bDUwLjY1Nyw1MC4yMjJjNS44NjQsNS44MTQsMTUuMzI3LDUuNzk1LDIxLjE2Ny0wLjA0NkwzMTcsMjc3LjIxM0w0NjAuNzg3LDQyMUg1MS4yMTN6IE00ODIsMzk5Ljc4Nw0KCQkJTDMzOC4yMTMsMjU2TDQ4MiwxMTIuMjEyVjM5OS43ODd6Ii8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo" />
        <span class="vzb-templates-notify-admin">Ready to publish a new template? Notify your admin.</span>
    </a>
</div>
